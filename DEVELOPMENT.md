# PocketDev ê°œë°œ ë¬¸ì„œ

ì´ ë¬¸ì„œëŠ” PocketDev ì‹œìŠ¤í…œì˜ ê¸°ìˆ ì  êµ¬ì¡°ì™€ í›„ì† ê°œì„  ë°©í–¥ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ëª©ì°¨
1. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
2. [ì›Œí¬í”Œë¡œìš° ìƒì„¸](#ì›Œí¬í”Œë¡œìš°-ìƒì„¸)
3. [ì½”ë“œ êµ¬ì¡°](#ì½”ë“œ-êµ¬ì¡°)
4. [ì„¤ì • íŒŒì¼](#ì„¤ì •-íŒŒì¼)
5. [í›„ì† ê°œì„  ê³„íš](#í›„ì†-ê°œì„ -ê³„íš)
6. [ê¸°ì—¬ ê°€ì´ë“œ](#ê¸°ì—¬-ê°€ì´ë“œ)

---

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ì‚¬ìš©ì     â”‚â”€â”€â”€â”€â–¶â”‚  GitHub      â”‚â”€â”€â”€â”€â–¶â”‚  Self-hosted    â”‚
â”‚  (ëª¨ë°”ì¼)    â”‚     â”‚  Issue       â”‚     â”‚  Runner (ì§‘PC)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚                    â”‚                      â”‚
      â”‚  /oc ëŒ“ê¸€ ì‘ì„±      â”‚  issue_comment      â”‚  ì‘ì—… ì‹¤í–‰
      â”‚                    â”‚  ì´ë²¤íŠ¸ ë°œìƒ         â”‚
      â–¼                    â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê²°ê³¼ í™•ì¸   â”‚â—€â”€â”€â”€â”€â”‚  PR ìƒì„±     â”‚â—€â”€â”€â”€â”€â”‚  OpenCode AI    â”‚
â”‚  & ë³‘í•©      â”‚     â”‚  & ëŒ“ê¸€      â”‚     â”‚  ì—ì´ì „íŠ¸       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

| ì»´í¬ë„ŒíŠ¸ | ì—­í•  | ê¸°ìˆ  ìŠ¤íƒ |
|---------|------|----------|
| GitHub Issues | íŠ¸ë¦¬ê±° ì¸í„°í˜ì´ìŠ¤ | GitHub API |
| GitHub Actions | ì›Œí¬í”Œë¡œìš° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ | YAML, GitHub API |
| Self-hosted Runner | ì‘ì—… ì‹¤í–‰ í™˜ê²½ | Windows, PowerShell |
| OpenCode AI | ì½”ë“œ ìƒì„±/ìˆ˜ì • | Node.js, Gemini/Claude/OpenAI |
| pytest | í…ŒìŠ¤íŠ¸ ì‹¤í–‰ | Python |

---

## ì›Œí¬í”Œë¡œìš° ìƒì„¸

### ë©”ì¸ ì›Œí¬í”Œë¡œìš°: `opencode.yml`

```yaml
# íŠ¸ë¦¬ê±° ì¡°ê±´
on:
  issue_comment:
    types: [created]

# ì‹¤í–‰ ì¡°ê±´
if: >
  contains(github.event.comment.body, '/oc') &&
  github.event.issue.pull_request == null &&
  (author_association == 'OWNER' || 'MEMBER' || 'COLLABORATOR')
```

### ì‹¤í–‰ ë‹¨ê³„

| ìˆœì„œ | ë‹¨ê³„ | ì„¤ëª… | ì†Œìš”ì‹œê°„ |
|-----|------|------|---------|
| 1 | Checkout | ì½”ë“œ ì²´í¬ì•„ì›ƒ | ~10s |
| 2 | Setup Python | Python 3.11 ì„¤ì¹˜ | ~20s |
| 3 | Setup Node | Node.js 20 ì„¤ì¹˜ | ~15s |
| 4 | Install OpenCode | opencode-ai ì„¤ì¹˜ | ~30s |
| 5 | Configure Git | ë´‡ ê³„ì • ì„¤ì • | ~1s |
| 6 | Create Branch | ì‘ì—… ë¸Œëœì¹˜ ìƒì„± | ~1s |
| 7 | Prepare Venv | Python ê°€ìƒí™˜ê²½ + ì˜ì¡´ì„± | ~60s |
| 8 | **Run Agent** | **OpenCode ì‹¤í–‰** | **2-10ë¶„** |
| 9 | Commit & Push | ë³€ê²½ì‚¬í•­ ì»¤ë°‹ | ~10s |
| 10 | Create PR | Pull Request ìƒì„± | ~5s |
| 11 | Comment | ì´ìŠˆì— ê²°ê³¼ ëŒ“ê¸€ | ~3s |

### í”„ë¡¬í”„íŠ¸ êµ¬ì¡°

```
You are a Python coding agent for repository ({repo}). Resolve the issue below.

[Issue #{number}] {title}
=== Issue Body ===
{body}
==================

[User instruction]
{instruction}

Requirements:
1) Minimal changes only (no unnecessary reformatting).
2) Run tests using Windows venv: .venv\Scripts\python -m pytest -q
3) Save test results to pytest_output.txt
4) Create opencode_report.md with: summary, changed files, commands run, test results, risks
5) Ensure git diff shows changes at the end.
```

---

## ì½”ë“œ êµ¬ì¡°

```
PocketDev/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â”œâ”€â”€ opencode.yml        # ë©”ì¸ ì›Œí¬í”Œë¡œìš°
â”‚       â”œâ”€â”€ opencode-simple.yml # ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ ì›Œí¬í”Œë¡œìš°
â”‚       â””â”€â”€ test-comment.yml    # ëŒ“ê¸€ íŠ¸ë¦¬ê±° í…ŒìŠ¤íŠ¸
â”œâ”€â”€ .claude/
â”‚   â””â”€â”€ settings.local.json     # Claude Code ì„¤ì •
â”œâ”€â”€ README.md                   # í”„ë¡œì íŠ¸ ì†Œê°œ
â”œâ”€â”€ USAGE.md                    # ì‚¬ìš© ê°€ì´ë“œ
â”œâ”€â”€ DEVELOPMENT.md              # ê°œë°œ ë¬¸ì„œ (ì´ íŒŒì¼)
â””â”€â”€ *.md                        # ê¸°íƒ€ ë¬¸ì„œ
```

### ì›Œí¬í”Œë¡œìš° íŒŒì¼ ì„¤ëª…

#### `opencode.yml` (ë©”ì¸)
- ì „ì²´ AI ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸
- Python/Node.js í™˜ê²½ ì„¤ì •
- OpenCode ì‹¤í–‰ ë° PR ìƒì„±

#### `opencode-simple.yml`
- ê°„ë‹¨í•œ ë™ì‘ í™•ì¸ìš©
- Runner ì—°ê²° í…ŒìŠ¤íŠ¸

#### `test-comment.yml`
- `/test` ëª…ë ¹ì–´ í…ŒìŠ¤íŠ¸
- ubuntu-latestì—ì„œ ì‹¤í–‰ (self-hosted ë¶ˆí•„ìš”)

---

## ì„¤ì • íŒŒì¼

### Runner ë¼ë²¨

ì›Œí¬í”Œë¡œìš°ì—ì„œ ì‚¬ìš©í•˜ëŠ” Runner ë¼ë²¨:
```yaml
runs-on: [self-hosted, Windows, X64, home-desktop]
```

| ë¼ë²¨ | ì„¤ëª… |
|------|------|
| `self-hosted` | GitHub hosted ì•„ë‹Œ ìì²´ Runner |
| `Windows` | Windows OS |
| `X64` | 64ë¹„íŠ¸ ì•„í‚¤í…ì²˜ |
| `home-desktop` | ì»¤ìŠ¤í…€ ë¼ë²¨ (ì§‘ PC ì‹ë³„ìš©) |

### í™˜ê²½ ë³€ìˆ˜

| ë³€ìˆ˜ | ìš©ë„ |
|------|------|
| `GEMINI_API_KEY` | AI API ì¸ì¦ |
| `GH_TOKEN` | GitHub API ì¸ì¦ (ìë™ ì œê³µ) |
| `ISSUE_NUMBER` | ì´ìŠˆ ë²ˆí˜¸ |
| `ISSUE_TITLE` | ì´ìŠˆ ì œëª© |
| `ISSUE_BODY` | ì´ìŠˆ ë³¸ë¬¸ |
| `COMMENT_BODY` | ëŒ“ê¸€ ë‚´ìš© |

---

## í›„ì† ê°œì„  ê³„íš

### ë‹¨ê¸° ê°œì„  (1-2ì£¼)

#### 1. ë‹¤ì¤‘ AI ëª¨ë¸ ì§€ì›
í˜„ì¬ Geminië§Œ ì§€ì›. Claude, GPT-4 ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ í™•ì¥.

```yaml
# ì œì•ˆ: ëŒ“ê¸€ì—ì„œ ëª¨ë¸ ì„ íƒ
/oc --model claude
/oc --model gpt4
/oc --model gemini  # ê¸°ë³¸ê°’
```

**êµ¬í˜„ ë°©ë²•**:
- ëŒ“ê¸€ íŒŒì‹± ë¡œì§ ìˆ˜ì •
- í™˜ê²½ ë³€ìˆ˜ ë™ì  ì„¤ì •
- opencode ì„¤ì • íŒŒì¼ í™œìš©

#### 2. ì‹¤í–‰ ìƒíƒœ ì‹¤ì‹œê°„ ì•Œë¦¼
í˜„ì¬ ì™„ë£Œ í›„ì—ë§Œ ëŒ“ê¸€. ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸.

```
# ì˜ˆì‹œ ëŒ“ê¸€
ğŸ”„ OpenCode ì‹¤í–‰ ì¤‘...
- [x] í™˜ê²½ ì„¤ì • ì™„ë£Œ
- [x] ì½”ë“œ ë¶„ì„ ì¤‘
- [ ] ì½”ë“œ ìˆ˜ì •
- [ ] í…ŒìŠ¤íŠ¸ ì‹¤í–‰
```

**êµ¬í˜„ ë°©ë²•**:
- ê° ë‹¨ê³„ì—ì„œ ì´ìŠˆ ëŒ“ê¸€ ì—…ë°ì´íŠ¸
- `actions/github-script` í™œìš©

#### 3. ì—ëŸ¬ í•¸ë“¤ë§ ê°•í™”
ì‹¤íŒ¨ ì‹œ ë” ìƒì„¸í•œ ì—ëŸ¬ ì •ë³´ ì œê³µ.

**ê°œì„  í¬ì¸íŠ¸**:
- OpenCode ì‹¤í–‰ ì‹¤íŒ¨ ì‹œ ë¡œê·¸ ì²¨ë¶€
- pytest ì‹¤íŒ¨ ì‹œ ì‹¤íŒ¨í•œ í…ŒìŠ¤íŠ¸ ëª©ë¡ í‘œì‹œ
- API ì—ëŸ¬ ì‹œ ì¬ì‹œë„ ë¡œì§

### ì¤‘ê¸° ê°œì„  (1-2ê°œì›”)

#### 4. ë©€í‹° ì €ì¥ì†Œ ì§€ì›
Organization Runnerë¡œ ì—¬ëŸ¬ ì €ì¥ì†Œì—ì„œ ê³µìœ .

```powershell
# Organization Runner ë“±ë¡
.\config.cmd --url https://github.com/{org} --token {TOKEN}
```

#### 5. ì½”ë“œ ë¦¬ë·° ìë™í™”
PR ìƒì„± ì‹œ ìë™ ì½”ë“œ ë¦¬ë·° ì¶”ê°€.

```yaml
# ì œì•ˆ: ë¦¬ë·° ë´‡ í†µí•©
- name: Auto Review
  uses: actions/github-script@v7
  with:
    script: |
      // AI ê¸°ë°˜ ì½”ë“œ ë¦¬ë·° ëŒ“ê¸€ ì¶”ê°€
```

#### 6. ìŠ¬ë™/ë””ìŠ¤ì½”ë“œ ì•Œë¦¼
ì‘ì—… ì™„ë£Œ ì‹œ ë©”ì‹ ì € ì•Œë¦¼.

```yaml
- name: Slack Notification
  uses: slackapi/slack-github-action@v1
  with:
    payload: |
      {"text": "OpenCode ì‘ì—… ì™„ë£Œ: ${{ steps.cpr.outputs.pr_url }}"}
```

#### 7. ìºì‹± ìµœì í™”
Python venv, Node modules ìºì‹±ìœ¼ë¡œ ì‹¤í–‰ ì‹œê°„ ë‹¨ì¶•.

```yaml
- uses: actions/cache@v4
  with:
    path: |
      .venv
      ~/.npm
    key: ${{ runner.os }}-deps-${{ hashFiles('**/requirements.txt') }}
```

### ì¥ê¸° ê°œì„  (3ê°œì›”+)

#### 8. ì›¹ ëŒ€ì‹œë³´ë“œ
ì‹¤í–‰ ì´ë ¥, í†µê³„, ì„¤ì •ì„ ê´€ë¦¬í•˜ëŠ” ì›¹ UI.

**ê¸°ëŠ¥**:
- ì‘ì—… ì´ë ¥ ì¡°íšŒ
- Runner ìƒíƒœ ëª¨ë‹ˆí„°ë§
- API ì‚¬ìš©ëŸ‰ ì¶”ì 
- ì„¤ì • ê´€ë¦¬

#### 9. ë¡œì»¬ LLM ì§€ì›
Ollama ë“± ë¡œì»¬ LLMìœ¼ë¡œ ë¹„ìš© ì ˆê°.

```yaml
env:
  OLLAMA_HOST: http://localhost:11434
  OPENCODE_MODEL: ollama/codellama
```

#### 10. ìë™ í…ŒìŠ¤íŠ¸ ìƒì„±
ì½”ë“œ ë³€ê²½ ì‹œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ìë™ ìƒì„±.

#### 11. ë³´ì•ˆ ê°•í™”
- Secrets ìŠ¤ìº”
- ì˜ì¡´ì„± ì·¨ì•½ì  ê²€ì‚¬
- ì½”ë“œ ë³´ì•ˆ ë¶„ì„

---

## ì•Œë ¤ì§„ ì´ìŠˆ

### 1. í•œê¸€ ì¸ì½”ë”©
**ìƒíƒœ**: ë¶€ë¶„ í•´ê²°
**ì¦ìƒ**: PR ì œëª©, ì¼ë¶€ ì¶œë ¥ì—ì„œ í•œê¸€ ê¹¨ì§
**ì›ì¸**: Windows PowerShell ê¸°ë³¸ ì¸ì½”ë”©
**ì„ì‹œ í•´ê²°**: UTF-8 ê°•ì œ ì„¤ì •

### 2. ë™ì‹œ ì‹¤í–‰ ì œí•œ
**ìƒíƒœ**: ì„¤ê³„ìƒ ì˜ë„
**ì¦ìƒ**: ê°™ì€ ì´ìŠˆì— ì—¬ëŸ¬ `/oc` ì‹¤í–‰ ì‹œ ì´ì „ ì‘ì—… ëŒ€ê¸°
**ì›ì¸**: `concurrency` ì„¤ì •ìœ¼ë¡œ ì¶©ëŒ ë°©ì§€

### 3. ê¸´ ì‹¤í–‰ ì‹œê°„
**ìƒíƒœ**: ê°œì„  í•„ìš”
**ì¦ìƒ**: venv ìƒì„±ì— 1ë¶„+ ì†Œìš”
**ê°œì„ **: ìºì‹± ì ìš© ì˜ˆì •

---

## ê¸°ì—¬ ê°€ì´ë“œ

### ê°œë°œ í™˜ê²½ ì„¤ì •

```powershell
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/zecal0707-harry/PocketDev.git
cd PocketDev

# ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/your-feature
```

### ì›Œí¬í”Œë¡œìš° í…ŒìŠ¤íŠ¸

1. í¬í¬ í›„ ìì‹ ì˜ ì €ì¥ì†Œì—ì„œ í…ŒìŠ¤íŠ¸
2. Self-hosted Runner ë“±ë¡
3. `/oc` ëª…ë ¹ì–´ë¡œ ë™ì‘ í™•ì¸

### PR ì œì¶œ

1. ë³€ê²½ì‚¬í•­ ì»¤ë°‹
2. PR ìƒì„± (base: `master`)
3. í…ŒìŠ¤íŠ¸ ê²°ê³¼ ì²¨ë¶€

### ì½”ë“œ ìŠ¤íƒ€ì¼

- YAML: 2 spaces ë“¤ì—¬ì“°ê¸°
- PowerShell: ëª…í™•í•œ ë³€ìˆ˜ëª…, ì—ëŸ¬ ì²˜ë¦¬ í¬í•¨
- ì£¼ì„: ë³µì¡í•œ ë¡œì§ì— í•œê¸€ ì£¼ì„ ê¶Œì¥

---

## ë²„ì „ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|-----|------|----------|
| 1.0.0 | 2026-01-09 | ì´ˆê¸° ë¦´ë¦¬ìŠ¤ |
| - | - | - opencode.yml ë©”ì¸ ì›Œí¬í”Œë¡œìš° |
| - | - | - Self-hosted Runner ì§€ì› |
| - | - | - ìë™ PR ìƒì„± |

---

## ì°¸ê³  ìë£Œ

- [GitHub Actions ë¬¸ì„œ](https://docs.github.com/en/actions)
- [Self-hosted Runners](https://docs.github.com/en/actions/hosting-your-own-runners)
- [OpenCode AI](https://github.com/opencode-ai/opencode)
- [PowerShell ë¬¸ì„œ](https://docs.microsoft.com/en-us/powershell/)
